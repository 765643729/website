@using Statiq.CodeAnalysis;

@{
	IDocument containingAssembly = Model.Get<IDocument>("ContainingAssembly");
    if(containingAssembly != null)
    {
        IDocument extension = Outputs.FromPipeline(nameof(ExtensionsPipeline))
            .FirstOrDefault(x =>
                (
                    x.GetString("Type") == null ||
                    x.GetString("Type").Equals("Addin", StringComparison.OrdinalIgnoreCase)
                ) &&
                x.GetList<string>("Assemblies")
                    ?.Any(y => y.Contains(containingAssembly.GetString(CodeAnalysisKeys.DisplayName))) == true);
        <div class="alert alert-info" role="alert">
            <i class="fa fa-info-circle"></i> This content is part of a third party extension that is not supported by the Cake project.
            @if(extension != null && !string.IsNullOrEmpty(extension.GetString("Name")))
            {
                string extensionName = extension.GetString("Name");
                if(!string.IsNullOrEmpty(extensionName))
                {
                    <text>
                        For more information about this extension see <a href="/extensions/@extensionName.ToLower().Replace(".", "-")/">@extensionName</a>.
                    </text>
                }
            }
        </div>
    }
}